# НАХОДИТСЯ В РАЗРАБОТКЕ

# muup.

Изначальная задача библиотеки упростить работу с отрисовкой графов, в задаче по визуализации метрических данных систем мониторинка. Графика отрисовывается по средствам `WebGl` а конкретно абстракции над ним `pixi.js`.

> Задачей развития библиотеки является отказ от `pixi.js`, в пользу чистого `WebGl`, дабы минимизировать влияние на проект сторонних разрабодчиков библиотек.

Плюсом отрисовка графики по средствам `GPU` является возможность библиотеки отрисовывать графы с большей скоростью, нежеле отрисовка тех же графов по средствам `DOM` элементов, что позволяет строить большие деревья зависимостей инфраструктурных элементов анализируемой системы.

---

## Содержание

Процесс работы с `muup` делится на несколько этапов:

- [Начало работы]()

  1. [Установка]()
  2. [Создание компонентов]()
  3. [Передача данных библиотеке]()
  4. [Монтирование]()

- [Кастомизация]()
  1. [Создание виджетов]()
  2. [Создание компонентов]()
  3. [Создание плагинов]()

---

## Начало работы

### Установка

Так как на данном этапе существования библиотеки, для отрисовки графики используется `pixi.js`, необходимо его подключить.

**CDN**

```html
<script src="https://pixijs.download/release/pixi.js"></script>
<script src="./dist/muup.js"></script>
```

**NPM**

```
npm install pixi.js muup
```

**Создание экземпляра приложения**

```js
const muup = new Muup.App({ width: 600, height: 600 });
```

---

### Создание компонентов

Компонент отвечает за отрисовку узла на графе.
Допустим вам необходимо визуализировать данные следущего вида:

```json
{
  "id": 4091209,
  "name": "Server #1",
  "some_prop": "server",
  "status": {
    "color": "red",
    "message": "Down!"
  },
  "childs": [...] // дочерние  узлы
}
```

При создании компонента необходимо заполнить 3 поля.

`where` - объект уловие, необходимо указать своиства по которым
`muup` поймет что этот компонент должен отрисовыватся на определенном узле.

- объект не должен иметь вложенных объектов
- если нужно сравнить объект по свойству значение которого не изветсно ипользуйте типы, например: `{ some_prop: String }`, или `{ some_prop: [String, Null] }`

`childsKey` - название поля объекта содержашего дочернии узлы, если объект не имеет таковых, укажите `null`

`widgets` - массив конфигураций виджетов. [Подробнее о виджетах.]()

```js
const server = {
  where: {
    some_prop: "server",
  },
  childsKey: "childs",
  widgets: [
    {
      name: "Status",
      map: {
        color: "status.color",
      },
    },
  ],
};
```

После описания компонета его необходимо подключить.

```js
muup.useComponent("Server", server);
```

> Имя компонента должно быть уникальным. Не допускайте подключение нескольких компонентов с одним именем, это может вызвать ошибку.
