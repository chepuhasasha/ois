<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./dist/muup.js"></script>
    <title>Document</title>
  </head>
  <body>
    <div id="muup"></div>
    <script>
      const node = {
        model: {
          object_type: "node",
          title: /^("Node #)([0-9]*")/,
          subtitle: [String],
          status: {
            color: [String],
          },
        },
        widgets: [
          {
            name: "Title",
            map: {
              title: "#title",
              subtitle: "#subtitle",
            },
          },
        ],
      };

      const muup = Muup.createApp("#muup").useComponent("Node", node);

      const node1 = muup.component("Node");
      const node2 = muup.component("Node");
      node1.data.value = {
        object_type: "node",
        title: "Node #1",
        subtitle: "node 1",
        status: {
          color: "red",
        },
      };
      node2.data.value = {
        object_type: "node",
        title: "Node #2",
        subtitle: "node 2",
        status: {
          color: "red",
        },
      };
      const block = muup.block();
      // const tree = muup.tree({});

      muup.grid(
        [
          { el: node1, area: "5/5/6/6" },
          { el: node2, area: "2/2/3/3" },
          { el: block, area: "1/6/10/10" },
        ],
        10,
        10
      );

      setInterval(() => {
        // console.log(node1);
        node1.data.value = {
          object_type: "node",
          title: "Node #1",
          subtitle: `${Math.floor(Math.random() * 100)}`,
          status: {
            color: "red",
          },
        };
        node2.data.value = {
          object_type: "node",
          title: "Node #2",
          subtitle: "node 2",
          status: {
            color: "red",
          },
        };
        block.data.value = [
          {
            name: "group #1",
            components: [
              {
                object_type: "node",
                title: "Node #1",
                subtitle: `node 1`,
                status: {
                  color: "red",
                },
              },
              {
                object_type: "node",
                title: "Node #2",
                subtitle: `${Math.floor(Math.random() * 100)}`,
                status: {
                  color: "red",
                },
              },
            ],
          },
        ];
      }, 1000);
    </script>
    <style>
      body {
        background: #1e1f29;
        box-sizing: border-box;
        padding: 0;
        margin: 0;
      }
    </style>
  </body>
</html>
